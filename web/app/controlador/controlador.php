<?phpclass Controlador {    function __construct() {        date_default_timezone_set('America/Bogota');        session_start();    }    public function cargarPagina() {        if (isset($_GET["modulo"])) {            $modulo = $_GET["modulo"];        } else {            $modulo = "inicio";        }        if ($modulo === 'killsession'){            return $this->cerrarCesion();        }        if ($this->validarSesion($modulo)){            echo $this->cargarHTML($modulo);        } else {            echo $this->cargarLogin('inicio');        }    }        private function validarSesion($modulo){        $taquilla = isset($_SESSION['taquilla_id']) ? $_SESSION['taquilla_id'] : null;        if (!$taquilla || $taquilla === ''){            return false;        }        return true;    }    private function cargarHTML($ms) {        $archivo = $ms;        $mod = $ms;        if (strpos($ms, '/')) {            $submodulo = substr($ms, strpos($ms, '/') + 1);            $archivo = substr($ms, 0, strpos($ms, '/'));            $archivo = 'modulo/' . $submodulo . '/' . substr($ms, strpos($ms, '/') + 1);            $mod = substr($ms, 0, strpos($ms, '/'));        }        $taquilla = $_SESSION['taquilla_id'];                  $pagina = file_get_contents('app/vista/pagmaestra.html');        $modulo = file_get_contents('app/vista/forma/' . $mod . '/' . $archivo . '.html');        $menu = file_get_contents('app/vista/assets/menu.user.html');        if ((int) $taquilla === 2){            $menu = file_get_contents('app/vista/assets/menu.admin.html');        }        $pagina = str_replace('##MENUPRINCIPAL##', $menu, $pagina);        $pagina = str_replace('##CONTENIDOS##', $modulo, $pagina);        $pagina = str_replace('##MODULO##', $archivo, $pagina);        $pagina = str_replace('##MODULOJS##', $mod, $pagina);        return $pagina;    }        private function cargarLogin($ms){                $archivo = $ms;        $mod = $ms;        if (strpos($ms, '/')) {            $submodulo = substr($ms, strpos($ms, '/') + 1);            $archivo = substr($ms, 0, strpos($ms, '/'));            $archivo = 'modulo/' . $submodulo . '/' . substr($ms, strpos($ms, '/') + 1);            $mod = substr($ms, 0, strpos($ms, '/'));        }        $pagina = file_get_contents('app/vista/pagmaestra.html');        $modulo = file_get_contents('app/vista/forma/inicio/login.html');        $pagina = str_replace('##MENUPRINCIPAL##', '', $pagina);        $pagina = str_replace('##CONTENIDOS##', $modulo, $pagina);        $pagina = str_replace('##MODULO##', $archivo, $pagina);        $pagina = str_replace('##MODULOJS##', $mod, $pagina);        return $pagina;    }        public function cerrarCesion(){        unset($_SESSION['taquilla_id']);        header('Location: /');        return true;    }        }