<?phprequire $_SERVER['DOCUMENT_ROOT'] . "app/model/db.php";class reporteModel {    private $result;    private $primaryTable;    function __construct($active) {        $active ? true : die('ACCESS DENIED');        $this->dbo = new db();        $this->primaryTable = "parametro";    }    private $dbo;    public function consultar($P) {        if (isset($P['_conse']) && !is_numeric($P['_conse'])) {            $this->setResult('Error al consultar el registro', 'error');            return false;        }        $consulta = "";        switch ($P['tipo']) {            case "reporteTickets":                $consulta = "select taq.id,                                    taq.sucursal,                                tic.fechaRegistro,                                    (select count(*) from ticket where estado = 'A' and date(fechaRegistro) = date(tic.fechaRegistro)) as enjuego,                                (select count(*) from ticket where estado = 'P' and date(fechaRegistro) = date(tic.fechaRegistro)) as procesado,                                (select count(*) from ticket where estado = 'G' and date(fechaRegistro) = date(tic.fechaRegistro)) as ganador,                                (select count(*) from ticket where estado = 'L' and date(fechaRegistro) = date(tic.fechaRegistro)) as perdedor,                                (select count(*) from ticket where estado = 'X' and date(fechaRegistro) = date(tic.fechaRegistro)) as aunlado                                from ticket tic                            inner join taquilla taq on tic.taquilla_id = taq.id                            group by date(tic.fechaRegistro)                            ";                break;        }        //echo $consulta;        $this->dbo->conectar();        $res = $this->dbo->consultar($consulta);        $this->dbo->desconectar();        if ($this->dbo->getError() === null) {            $this->setResult($res, 'data');        } else {            $this->setResult("Ha ocurrido un error en la consulta", "error");            return false;        }        return true;    }       public function setResult($output, $type = "message") {        $this->result = [            "type" => $type,            "output" => $output        ];        return true;    }    public function getResult() {        return $this->result;    }}